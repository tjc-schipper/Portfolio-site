/**
*	Timber
*	Version: 1.0.5
*	URL: @ThemeMountain
*	Description: Components
*	Requires: jQuery 1.10+
*	Author: ThemeMountain
*	Copyright: Copyright 2014 ThemeMountain
*	License: MIT (http://www.opensource.org/licenses/mit-license.php)
*/
$(document).ready(function(){"use strict";var i,t=".wrapper",e=".header",n=".side-navigation-wrapper",a="#side-nav-show a",s="#side-nav-hide a",o=".reveal-side-navigation",r=".element-reveal-left",c=".element-reveal-right",l=".element-show-left",d=".element-show-right",u=".side-nav-open",v=".content-side-navigation-screen",h=500,f="easeInOutQuint",m={init:function(){$("body").data("aux-nav",!1);var i,e=$(n).hasClass("enter-right")?"right":"left";Z?i="left"===e?r:c:(i="left"===e?l:d,$(n).addClass("hide")),i=i.split(".").join(""),u=u.split(".").join(""),$(a).on("click",function(a){if(a.preventDefault(),$(n).hasClass("active"))m.closeNav(i);else{E.state(!0),$("body").data("aux-nav",!0),Z?($(o).addClass(i).css({transitionDuration:h+"ms",transitionTimingFunction:et[f]}),$(n).addClass("active").css({transitionDuration:h+"ms",transitionTimingFunction:et[f]}),$("body").addClass(u)):($(t).addClass(i),$(n).removeClass("hide").addClass("active")),x.state(!0),$(n).on(tt,function(i){return i.target!==$(this)[0]?!1:(i.stopPropagation(),void $(this).off(tt))});var s=$('<a href="#" />').addClass(v.split(".").join("")).appendTo($(t));$(s).on("click",function(t){t.preventDefault(),m.closeNav(i)}),$(s).swipeIt({preventTouchOn:n,onSwipeEnd:function(t){"right"===e?"left"===t&&m.closeNav(i):"right"===t&&m.closeNav(i)}})}}),$(s).on("click",function(t){t.preventDefault(),m.closeNav(i)}),$(window).on("resize",function(){x.state($("body").data("aux-nav")?!0:!1)})},closeNav:function(i){Z?(E.state(!0),$(o).removeClass(i),$(n).removeClass("active"),$(n).on(tt,function(i){return i.target!==$(this)[0]?!1:(i.stopPropagation(),x.state(!1),$(this).off(tt),void $("body").removeClass(u))})):($(t).removeClass(i),$(n).addClass("hide").removeClass("active")),$("body").data("aux-nav",!1),$(t).find(v).remove()}},p=".overlay-navigation-wrapper",b=".overlay-navigation-inner",g="#overlay-nav-show a",C="#overlay-nav-hide a",y=500,w="easeInOutQuint",z={init:function(){$(g).on("click",function(i){i.preventDefault(),$(p).hasClass("active")?z.closeNav():($("body").data("aux-nav",!0),$(p).addClass("active").css(Z?{top:0,transitionDuration:y+"ms",transitionTimingFunction:et[w]}:{top:0}),$(p).on(tt,function(i){return i.target!==$(this)[0]?!1:(i.stopPropagation(),x.state(!0),void $(this).off(tt))}))}),$(b).on("click",function(i){i.target===this&&z.closeNav()}),$(C).on("click",function(i){i.preventDefault(),z.closeNav()}),$(window).on("resize",function(){x.state($("body").data("aux-nav")?!0:!1)})},closeNav:function(){Z?($(p).removeClass("active"),$(p).on(tt,function(i){return i.target!==$(this)[0]?!1:(i.stopPropagation(),x.state(!1),$(p).css({top:"-100%"}),void $(this).off(tt))})):$(p).removeClass("active").css({top:"-100%"}),$("body").data("aux-nav",!1)}},T=".side-navigation-wrapper, .overlay-navigation-wrapper",k=".sub-menu",O=".contains-sub-menu",I={init:function(){$(T).find(O).each(function(){$(this).on("click",function(i){i.preventDefault(),$(this).parent().hasClass("current")?$(this).parent().removeClass("current"):($(this).closest("nav").children("ul").children().removeClass("current"),$(this).parent().addClass("current")),E.state(!0);var t=$(this).siblings(k).children(),e=0;t.each(function(){e+=$(this).outerHeight()}),$(this).siblings(k).hasClass("open")?$(this).closest(T).find(k).css({height:0}).removeClass("open"):($(this).closest(T).find(k).css({height:0}).removeClass("open"),$(this).siblings(k).css({height:e+"px"}),$(this).siblings(k).addClass("open"))})})}},x={state:function(i){nt?i?$("body").addClass("aux-navigation-active"):$("body").removeClass("aux-navigation-active"):i?$("body").addClass("aux-navigation-active"):$("body").data("aux-nav")||$("body").removeClass("aux-navigation-active")}},N=".header, .header-inner, .header .logo, .header .navigation, .reveal-side-navigation, .side-navigation-wrapper",E={init:function(){nt||$(window).on("scroll",function(){E.state(!0)}),$(window).on("resize",function(){E.state(!1)})},state:function(i){i?$(N).removeClass("no-transition"):$(N).addClass("no-transition")}},D=300,Q=".scroll-to-top",B=600,P={init:function(){$(window).on("scroll",function(){return $(Q).is("[data-no-hide]")?!1:void($(this).scrollTop()>D?$(Q).fadeIn(B):$(Q).fadeOut(B))}),$(Q).on("click",function(i){i.preventDefault(),P.scrollUp()})},scrollUp:function(){$("html, body").animate({scrollTop:0},B)}},A=".tabs",F=".accordion",S="icon-plus",H="icon-minus",M=".accordion-content",W=".box.dismissable",j=300,L="swing",R=".dropdown",U=".thumbnail",q=".overlay-info, img",G=".overlay-info",J=400,K="easeInOutQuint",V={init:function(){V.tabs(),V.accordions(),V.dismissable(),V.dropdown(),V.rollovers(),V.thumbnailRatio()},tabs:function(){$(A).each(function(){var i=$(this).find("li a");$(this).find(".tab-panes .active").addClass("fade-in"),i.each(function(){$(this).on("click",function(){var i=$(this).attr("href"),t=$(this).closest(".tabs").find(i);$(this).closest(".tab-nav").find(".active").removeClass("active"),$(this).parent().addClass("active"),$(this).closest(".tabs").find(".tab-panes .active").removeClass("active fade-in"),t.addClass("active");var e=null;return clearTimeout(e),e=setTimeout(function(){t.addClass("fade-in")},50),!1}),$(this).parent().hasClass("active")&&$(this).closest(".tabs").find($(this).attr("href")).addClass("active")})})},accordions:function(){$(F).each(function(){var i=$(this).find("li a");i.each(function(){$(this).closest(F).is("[data-toggle-icon]")&&($(this).find("span").length||$(this).parent().hasClass("active")?!$(this).find("span").length&&$(this).parent().hasClass("active")&&$(this).prepend('<span class="'+H+'" />'):$(this).prepend('<span class="'+S+'" />')),$(this).on("click",function(){var i=$(this),t=i.attr("href"),e=i.closest(F).find(t),n=i.closest(F).find("li > div");i.closest(F).find("li.active > div").each(function(){var i=$(this).children().outerHeight();$(this).addClass("no-transition").css({height:i+"px"})});var a=null;return clearTimeout(a),a=i.parent().hasClass("active")?setTimeout(function(){i.closest(F).is("[data-toggle-multiple]")?i.siblings(e).removeClass("no-transition").css({height:0}):i.closest(F).find("li.active > div").removeClass("no-transition").css({height:0}),i.parent().removeClass("active")},50):setTimeout(function(){var t=i.siblings(e).find(M).outerHeight();i.closest(F).is("[data-toggle-multiple]")||(n.removeClass("no-transition").css({height:0}),i.closest(F).find("li").removeClass("active")),i.parent().addClass("active"),i.siblings(e).removeClass("no-transition").css({height:t+"px"})},50),i.find("."+H).length?i.find("."+H).removeClass(H).addClass(S):i.find("."+S).length&&(i.closest(F).is("[data-toggle-multiple]")||i.closest("ul").find("."+H).removeClass(H).addClass(S),i.find("."+S).removeClass(S).addClass(H)),!1})}),$(window).on("resize",function(){$(F).each(function(){$(this).find("li.active > div").addClass("no-transition").css({height:"auto"})})})})},dismissable:function(){$(W).each(function(){$(this).find(".close").length||$(this).prepend('<a href="" class="close icon-cancel" />'),$(this).find(".close").on("click",function(i){i.preventDefault(),Z?$(this).parent().css({transitionProperty:"opacity",opacity:0,transitionDuration:j+"ms",transitionTimingFunction:et[L]}).on(tt,function(i){return i.stopPropagation(),i.target!==$(this)[0]?!1:void $(this).remove()}):$(this).parent().animate({opacity:0},J,L,function(){$(this).remove()})})})},dropdown:function(){$(R).each(function(){$(this).children(".button, button").not().each(function(){$(this).on("click",function(i){i.preventDefault();var t=$(this).parent().children(".dropdown-list");return $(this).parent().hasClass("disabled")?!1:($(".dropdown-list").not($(t)).removeClass("active"),void($(t).hasClass("active")?($(t).removeClass("active"),$(this).removeClass("active")):($(t).addClass("active"),$(this).addClass("active"))))}),$(this).parent().children(".dropdown-list").find("li a").on("click",function(i){i.preventDefault(),$(".dropdown-list").removeClass("active"),$(this).removeClass("active")}),$(window).on("scroll",function(){i()}),$(e).find(".navigation > ul > li > a").mouseenter(function(){i()});var i=function(){$(R).each(function(){$(this).find(".button, button").removeClass("active"),$(this).find(".dropdown-list").removeClass("active")})}})})},rollovers:function(){Z?$(U).each(function(){var i,t=$(this).data("hover-speed")?$(this).data("hover-speed"):J,e=$(this).data("hover-easing")?$(this).data("hover-easing"):K,n=$(this).data("hover-bkg-opacity")?$(this).data("hover-bkg-opacity"):1;if($(this).data("hover-bkg-color")){var a=$(this).data("hover-bkg-color");a=a.replace("#","");var s=parseInt(a.substring(0,2),16),o=parseInt(a.substring(2,4),16),r=parseInt(a.substring(4,6),16);i="rgba( "+s+","+o+","+r+","+n/1+" )"}else i=$(this).find(G).css("background-color");$(this).find(q).css({transitionDuration:t+"ms",transitionTimingFunction:et[e]}),$(this).find(G).css({backgroundColor:i})}):$(U).find(".overlay-link").mouseenter(function(){$(this).find(G).css({opacity:0}).stop().animate({opacity:1},J,K)}).mouseleave(function(){$(this).find(G).stop().animate({opacity:0},J,K)})},thumbnailRatio:function(){$(window).on("resize",function(){$(U).each(function(){if($(this).find(".caption-over-outer").length){var i=$(this).find("img"),t=i.attr("width"),e=i.attr("height"),n=$(this).find("img").width(),a=e>t?e/t:t/e,s=e>t?n*a:n/a;$(this).find(".caption-over-outer").css({opacity:1}),$(this).css({height:s+"px"})}})}).resize()}},X=document.body||document.documentElement,Y=X.style,Z=void 0!==Y.transition||void 0!==Y.WebkitTransition||void 0!==Y.MozTransition||void 0!==Y.MsTransition||void 0!==Y.OTransition,_=["WebkitTransform","MozTransform","OTransform","msTransform"];for(var it in _)void 0!==Y[_[it]]&&(i="-"+_[it].replace("Transform","").toLowerCase());var tt="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend";Z&&(document.getElementsByTagName("body")[0].className+=" transition-support");var et={linear:"cubic-bezier(0, 0, 1, 1)",swing:"cubic-bezier(0.42, 0, 0.58, 1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};window.onpageshow=function(i){i.persisted&&$("body").addClass("page-fade-reset").removeClass("page-fade-out")};var nt=!1;(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))&&(nt=!0,document.getElementsByTagName("body")[0].className+=" mobile");var at="WebkitAppearance"in document.documentElement.style;at&&(document.getElementsByTagName("body")[0].className+=" webkit");var st=/constructor/i.test(window.HTMLElement);st&&(document.getElementsByTagName("body")[0].className+=" safari-browser");var ot=document.all&&document.addEventListener||"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style;ot&&(document.getElementsByTagName("body")[0].className+=" ie-browser"),m.init(),z.init(),I.init(),E.init(),P.init(),V.init()});